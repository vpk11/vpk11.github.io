<!DOCTYPE html>
<html lang="de" class="scroll-smooth bg-gray-100">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leben in Deutschland Quiz - Hessen | Vishnuprasad Kamalon</title>
    <meta name="description" content="Üben Sie kostenlos für den Einbürgerungstest Deutschland mit interaktiven Fragen für Hessen. Bilingual Deutsch-Englisch mit Fortschrittsverfolgung.">
    <meta name="keywords" content="Einbürgerungstest, Leben in Deutschland, Hessen, deutsche Staatsbürgerschaft, Quiz, Prüfungsvorbereitung, Deutschland Test">
    <meta name="author" content="Vishnuprasad Kamalon">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://vpk11.com/learn/german/ebt.html">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Leben in Deutschland Quiz - Hessen">
    <meta property="og:description" content="Üben Sie kostenlos für den Einbürgerungstest Deutschland mit interaktiven Fragen für Hessen.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vpk11.com/learn/german/ebt.html">
    <meta property="og:site_name" content="Vishnuprasad Kamalon - Learning Hub">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Leben in Deutschland Quiz - Hessen">
    <meta name="twitter:description" content="Üben Sie kostenlos für den Einbürgerungstest Deutschland mit interaktiven Fragen für Hessen.">
    
    <link rel="icon" href="https://placehold.co/32x32/3B82F6/FFFFFF?text=VK&font=Inter" type="image/png">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Roboto+Slab:wght@700&display=swap" rel="stylesheet">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Quiz",
        "name": "Leben in Deutschland Test - Hessen",
        "description": "Einbürgerungstest-Fragen für das Bundesland Hessen mit interaktiven Übungen",
        "author": {
            "@type": "Person",
            "name": "Vishnuprasad Kamalon"
        },
        "educationalLevel": "Adult",
        "inLanguage": "de",
        "about": {
            "@type": "Thing",
            "name": "German Citizenship Test"
        }
    }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .section-title {
            font-family: 'Roboto Slab', serif;
            color: #1e3a8a;
        }
        .nav-link {
            position: relative;
            padding-bottom: 4px;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0;
            height: 2px;
            background-color: #3b82f6;
            transition: width 0.3s ease;
        }
        .nav-link:hover::after {
            width: 100%;
        }
        .icon-link:hover i {
            transform: scale(1.2);
            color: #3b82f6;
        }
        .icon-link i {
            transition: transform 0.2s ease-in-out, color 0.2s ease-in-out;
        }
        html {
            scroll-behavior: smooth;
        }
        /* Animation Styles */
        .fade-enter-active, .fade-leave-active {
            transition: opacity 0.3s ease;
        }
        .fade-enter-from, .fade-leave-to {
            opacity: 0;
        }
        
        /* Toast Animation */
        .toast-enter-active {
            transition: all 0.3s ease-out;
        }
        .toast-leave-active {
            transition: all 0.3s ease-in;
        }
        .toast-enter-from {
            transform: translateX(100%);
            opacity: 0;
        }
        .toast-leave-to {
            transform: translateX(100%);
            opacity: 0;
        }
    </style>
</head>
<body class="font-sans antialiased text-gray-800">

    <!-- Header & Navigation -->
    <header class="bg-white shadow-lg sticky top-0 z-50" role="banner">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8 py-3" role="navigation" aria-label="Hauptnavigation">
            <div class="flex justify-between items-center">
                <a href="https://vpk11.com/" class="flex items-center space-x-3 text-2xl md:text-3xl font-bold text-blue-700 hover:text-blue-800 transition-colors duration-300" style="font-family: 'Roboto Slab', serif;" aria-label="Vishnuprasad Kamalon - Zur Startseite">
                    <span>Vishnuprasad Kamalon</span>
                </a>
                <div class="flex items-center space-x-5 lg:space-x-7">
                    <a href="https://vpk11.com/#about" class="text-gray-700 hover:text-blue-600 nav-link font-medium hidden md:inline" aria-label="Über mich">About</a>
                    <a href="https://vpk11.com/#projects" class="text-gray-700 hover:text-blue-600 nav-link font-medium hidden md:inline" aria-label="Projekte">Projects</a>
                    <a href="https://vpk11.com/#contact" class="text-gray-700 hover:text-blue-600 nav-link font-medium hidden md:inline" aria-label="Kontakt">Contact</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="py-8" role="main">
        <div id="app" class="container mx-auto p-4 md:p-8 max-w-4xl">
            <header class="mb-8 text-center">
                <h1 class="text-4xl font-bold text-blue-700 section-title">Leben in Deutschland Test</h1>
                <p class="text-xl text-gray-600 mt-2">Einbürgerungstest-Fragen für <span class="font-semibold text-red-600">Hessen</span></p>
            </header>

        <section v-if="totalQuestions > 0" class="bg-white p-6 md:p-8 rounded-2xl shadow-lg" aria-label="Quiz-Bereich">
            
            <!-- Tab Navigation -->
            <div class="mb-6" role="tablist" aria-label="Fragen-Kategorien">
                <div class="border-b border-gray-200">
                    <nav class="-mb-px flex space-x-1 sm:space-x-8" aria-label="Tabs">
                        <button 
                            @click="switchTab('general')"
                            :class="activeTab === 'general' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'"
                            class="flex-1 sm:flex-none whitespace-nowrap py-2 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200"
                            role="tab"
                            :aria-selected="activeTab === 'general'"
                            :aria-controls="'general-panel'"
                            id="general-tab">
                            <span class="hidden sm:inline">Allgemeine Fragen</span>
                            <span class="sm:hidden">Allgemein</span>
                            <span class="ml-1 sm:ml-2 bg-gray-100 text-gray-900 py-0.5 px-1.5 sm:px-2.5 rounded-full text-xs">{{ generalQuestions.length }}</span>
                        </button>
                        <button 
                            @click="switchTab('state')"
                            :class="activeTab === 'state' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'"
                            class="flex-1 sm:flex-none whitespace-nowrap py-2 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200"
                            role="tab"
                            :aria-selected="activeTab === 'state'"
                            :aria-controls="'state-panel'"
                            id="state-tab">
                            <span class="hidden sm:inline">Hessen-spezifische Fragen</span>
                            <span class="sm:hidden">Hessen</span>
                            <span class="ml-1 sm:ml-2 bg-gray-100 text-gray-900 py-0.5 px-1.5 sm:px-2.5 rounded-full text-xs">{{ stateQuestions.length }}</span>
                        </button>
                    </nav>
                </div>
            </div>

            <!-- Tab Panels -->
            <div class="tab-content">
                <!-- General Questions Panel -->
                <div 
                    v-show="activeTab === 'general'"
                    role="tabpanel"
                    id="general-panel"
                    aria-labelledby="general-tab"
                    tabindex="0">
                    
                    <!-- Progress Bar for General Questions -->
                    <div class="mb-6" role="region" aria-label="Fortschritt - Allgemeine Fragen">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm font-medium text-gray-500">Frage {{ currentGeneralIndex + 1 }} von {{ generalQuestions.length }}</span>
                            <span class="text-sm font-medium text-blue-700">{{ generalProgressPercentage }}% abgeschlossen</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5 mb-3" role="progressbar" :aria-valuenow="generalProgressPercentage" aria-valuemin="0" aria-valuemax="100" :aria-label="`${generalProgressPercentage} Prozent abgeschlossen`">
                            <div class="bg-blue-600 h-2.5 rounded-full transition-all duration-500" :style="{ width: generalProgressPercentage + '%' }"></div>
                        </div>
                        
                        <!-- Quick Jump Input for General Questions -->
                        <div class="flex items-center justify-center space-x-2 text-sm">
                            <label for="generalQuestionJump" class="text-gray-600 font-medium">Zu Frage springen:</label>
                            <input 
                                id="generalQuestionJump"
                                type="number" 
                                :min="1" 
                                :max="generalQuestions.length"
                                v-model="jumpToGeneralQuestionNumber"
                                @keyup.enter="jumpToGeneralQuestionByNumber"
                                class="w-16 px-2 py-1 border border-gray-300 rounded-md text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                :placeholder="currentGeneralIndex + 1"
                                :aria-label="`Springe zu allgemeiner Frage Nummer. Aktuelle Frage: ${currentGeneralIndex + 1}`">
                            <button 
                                @click="jumpToGeneralQuestionByNumber"
                                class="bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 transition-colors duration-200 font-medium"
                                aria-label="Zu der eingegebenen allgemeinen Frage springen">
                                Los
                            </button>
                        </div>
                    </div>

                    <!-- Loading indicator for General Questions -->
                    <div v-if="isLoadingGeneral || !currentGeneralQuestion" class="flex items-center justify-center py-8" role="status" aria-live="polite">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600" aria-hidden="true"></div>
                        <span class="ml-3 text-gray-600">Allgemeine Frage wird geladen...</span>
                    </div>

                    <!-- General Question Card -->
                    <article v-else class="question-container" :aria-label="`Allgemeine Frage ${currentGeneralQuestion.id}`">
                        <transition name="fade" mode="out-in">
                            <div :key="currentGeneralQuestion.id">
                                <header class="mb-6">
                                    <h2 class="text-lg md:text-xl font-semibold text-gray-900">{{ currentGeneralQuestion.id }}. {{ currentGeneralQuestion.question }}</h2>
                                    <p class="mt-1 text-sm text-gray-500 italic" lang="en">{{ currentGeneralQuestion.question_en }}</p>
                                    <p v-if="currentGeneralQuestion.is_image_question" class="text-sm text-red-500 mt-2" role="note">(Hinweis: Dies ist eine Bildfrage. Die korrekte Antwort wird im Text beschrieben.)</p>
                                </header>

                                <!-- General Question Options -->
                                <fieldset class="border-0 p-0 m-0">
                                    <legend class="sr-only">Antwortmöglichkeiten für allgemeine Frage {{ currentGeneralQuestion.id }}</legend>
                                    <ul role="radiogroup" :aria-label="`Antwortoptionen für allgemeine Frage ${currentGeneralQuestion.id}`">
                                        <li v-for="(option, index) in currentGeneralQuestion.options" :key="index"
                                            @click="selectGeneralAnswer(index)"
                                            @keydown.enter="selectGeneralAnswer(index)"
                                            @keydown.space.prevent="selectGeneralAnswer(index)"
                                            :class="getGeneralOptionClass(index)"
                                            class="border border-gray-300 rounded-lg p-4 mb-3 transition-all duration-200 cursor-pointer hover:bg-blue-50 hover:border-blue-400 flex items-start space-x-4"
                                            role="radio"
                                            :aria-checked="generalAnswers[currentGeneralQuestion.id] === index"
                                            :aria-label="`Option ${String.fromCharCode(65 + index)}: ${option.de}`"
                                            tabindex="0">
                                            <div class="w-6 h-6 rounded-full border-2 flex-shrink-0 mt-1" :class="getGeneralOptionIndicatorClass(index)" aria-hidden="true"></div>
                                            <div>
                                                <span class="font-medium text-gray-800">{{ option.de }}</span>
                                                <span class="block text-sm text-gray-500 italic" lang="en">{{ option.en }}</span>
                                            </div>
                                        </li>
                                    </ul>
                                </fieldset>
                            </div>
                        </transition>
                    </article>

                    <!-- General Questions Navigation -->
                    <nav class="flex justify-between mt-8" aria-label="Allgemeine Fragen Navigation">
                        <button @click="prevGeneralQuestion" :disabled="currentGeneralIndex === 0" 
                                class="bg-gray-600 text-white font-bold py-2 px-6 rounded-lg transition hover:bg-gray-700 disabled:bg-gray-300 disabled:cursor-not-allowed"
                                :aria-label="currentGeneralIndex === 0 ? 'Keine vorherige allgemeine Frage verfügbar' : 'Zur vorherigen allgemeinen Frage'"
                                :aria-disabled="currentGeneralIndex === 0">
                            Zurück
                        </button>
                        <button @click="nextGeneralQuestion" :disabled="currentGeneralIndex === generalQuestions.length - 1"
                                class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg transition hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed"
                                :aria-label="currentGeneralIndex === generalQuestions.length - 1 ? 'Keine weitere allgemeine Frage verfügbar' : 'Zur nächsten allgemeinen Frage'"
                                :aria-disabled="currentGeneralIndex === generalQuestions.length - 1">
                            Nächste
                        </button>
                    </nav>
                </div>

                <!-- State Questions Panel -->
                <div 
                    v-show="activeTab === 'state'"
                    role="tabpanel"
                    id="state-panel"
                    aria-labelledby="state-tab"
                    tabindex="0">
                    
                    <!-- Progress Bar for State Questions -->
                    <div class="mb-6" role="region" aria-label="Fortschritt - Hessen-spezifische Fragen">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm font-medium text-gray-500">Frage {{ currentStateIndex + 1 }} von {{ stateQuestions.length }}</span>
                            <span class="text-sm font-medium text-blue-700">{{ stateProgressPercentage }}% abgeschlossen</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5 mb-3" role="progressbar" :aria-valuenow="stateProgressPercentage" aria-valuemin="0" aria-valuemax="100" :aria-label="`${stateProgressPercentage} Prozent abgeschlossen`">
                            <div class="bg-blue-600 h-2.5 rounded-full transition-all duration-500" :style="{ width: stateProgressPercentage + '%' }"></div>
                        </div>
                        
                        <!-- Quick Jump Input for State Questions -->
                        <div class="flex items-center justify-center space-x-2 text-sm">
                            <label for="stateQuestionJump" class="text-gray-600 font-medium">Zu Frage springen:</label>
                            <input 
                                id="stateQuestionJump"
                                type="number" 
                                :min="1" 
                                :max="stateQuestions.length"
                                v-model="jumpToStateQuestionNumber"
                                @keyup.enter="jumpToStateQuestionByNumber"
                                class="w-16 px-2 py-1 border border-gray-300 rounded-md text-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                :placeholder="currentStateIndex + 1"
                                :aria-label="`Springe zu Hessen-spezifischer Frage Nummer. Aktuelle Frage: ${currentStateIndex + 1}`">
                            <button 
                                @click="jumpToStateQuestionByNumber"
                                class="bg-blue-600 text-white px-3 py-1 rounded-md hover:bg-blue-700 transition-colors duration-200 font-medium"
                                aria-label="Zu der eingegebenen Hessen-spezifischen Frage springen">
                                Los
                            </button>
                        </div>
                    </div>

                    <!-- Loading indicator for State Questions -->
                    <div v-if="isLoadingState || !currentStateQuestion" class="flex items-center justify-center py-8" role="status" aria-live="polite">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600" aria-hidden="true"></div>
                        <span class="ml-3 text-gray-600">Hessen-spezifische Frage wird geladen...</span>
                    </div>

                    <!-- State Question Card -->
                    <article v-else class="question-container" :aria-label="`Hessen-spezifische Frage ${currentStateQuestion.id}`">
                        <transition name="fade" mode="out-in">
                            <div :key="currentStateQuestion.id">
                                <header class="mb-6">
                                    <h2 class="text-lg md:text-xl font-semibold text-gray-900">{{ currentStateQuestion.id }}. {{ currentStateQuestion.question }}</h2>
                                    <p class="mt-1 text-sm text-gray-500 italic" lang="en">{{ currentStateQuestion.question_en }}</p>
                                    <p v-if="currentStateQuestion.is_image_question" class="text-sm text-red-500 mt-2" role="note">(Hinweis: Dies ist eine Bildfrage. Die korrekte Antwort wird im Text beschrieben.)</p>
                                </header>

                                <!-- State Question Options -->
                                <fieldset class="border-0 p-0 m-0">
                                    <legend class="sr-only">Antwortmöglichkeiten für Hessen-spezifische Frage {{ currentStateQuestion.id }}</legend>
                                    <ul role="radiogroup" :aria-label="`Antwortoptionen für Hessen-spezifische Frage ${currentStateQuestion.id}`">
                                        <li v-for="(option, index) in currentStateQuestion.options" :key="index"
                                            @click="selectStateAnswer(index)"
                                            @keydown.enter="selectStateAnswer(index)"
                                            @keydown.space.prevent="selectStateAnswer(index)"
                                            :class="getStateOptionClass(index)"
                                            class="border border-gray-300 rounded-lg p-4 mb-3 transition-all duration-200 cursor-pointer hover:bg-blue-50 hover:border-blue-400 flex items-start space-x-4"
                                            role="radio"
                                            :aria-checked="stateAnswers[currentStateQuestion.id] === index"
                                            :aria-label="`Option ${String.fromCharCode(65 + index)}: ${option.de}`"
                                            tabindex="0">
                                            <div class="w-6 h-6 rounded-full border-2 flex-shrink-0 mt-1" :class="getStateOptionIndicatorClass(index)" aria-hidden="true"></div>
                                            <div>
                                                <span class="font-medium text-gray-800">{{ option.de }}</span>
                                                <span class="block text-sm text-gray-500 italic" lang="en">{{ option.en }}</span>
                                            </div>
                                        </li>
                                    </ul>
                                </fieldset>
                            </div>
                        </transition>
                    </article>

                    <!-- State Questions Navigation -->
                    <nav class="flex justify-between mt-8" aria-label="Hessen-spezifische Fragen Navigation">
                        <button @click="prevStateQuestion" :disabled="currentStateIndex === 0" 
                                class="bg-gray-600 text-white font-bold py-2 px-6 rounded-lg transition hover:bg-gray-700 disabled:bg-gray-300 disabled:cursor-not-allowed"
                                :aria-label="currentStateIndex === 0 ? 'Keine vorherige Hessen-spezifische Frage verfügbar' : 'Zur vorherigen Hessen-spezifischen Frage'"
                                :aria-disabled="currentStateIndex === 0">
                            Zurück
                        </button>
                        <button @click="nextStateQuestion" :disabled="currentStateIndex === stateQuestions.length - 1"
                                class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg transition hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed"
                                :aria-label="currentStateIndex === stateQuestions.length - 1 ? 'Keine weitere Hessen-spezifische Frage verfügbar' : 'Zur nächsten Hessen-spezifischen Frage'"
                                :aria-disabled="currentStateIndex === stateQuestions.length - 1">
                            Nächste
                        </button>
                    </nav>
                </div>
            </div>
            
        </section>
        
        <!-- Toast Notification -->
        <transition name="toast">
            <div v-if="showToast" 
                 class="fixed top-4 right-4 z-50 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg max-w-sm"
                 role="alert"
                 aria-live="assertive"
                 aria-atomic="true">
                <div class="flex items-center">
                    <i class="fas fa-exclamation-triangle mr-2" aria-hidden="true"></i>
                    <span>{{ toastMessage }}</span>
                </div>
            </div>
        </transition>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-400 py-12" role="contentinfo">
        <div class="container mx-auto px-6 text-center">
            <nav class="mb-6 flex justify-center space-x-6" aria-label="Social Media Links">
                <a href="https://github.com/vpk11" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300 icon-link" title="GitHub" aria-label="Besuche mein GitHub Profil">
                    <i class="fab fa-github text-2xl" aria-hidden="true"></i>
                </a>
                <a href="https://linkedin.com/in/vpk11" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300 icon-link" title="LinkedIn" aria-label="Besuche mein LinkedIn Profil">
                    <i class="fab fa-linkedin text-2xl" aria-hidden="true"></i>
                </a>
                <a href="https://www.xing.com/profile/Vishnuprasad_Kamalon" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300 icon-link" title="Xing" aria-label="Besuche mein Xing Profil">
                    <i class="fab fa-xing text-2xl" aria-hidden="true"></i>
                </a>
                 <a href="/resume.html" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300 icon-link" title="Resume" aria-label="Lade meinen Lebenslauf herunter">
                    <i class="fas fa-file-pdf text-2xl" aria-hidden="true"></i>
                </a>
            </nav>
            <p class="text-sm">&copy; <span id="currentYear"></span> Vishnuprasad Kamalon. Alle Rechte vorbehalten.</p>
            <p class="text-xs text-gray-500 mt-1">
                Erstellt mit <a href="https://tailwindcss.com/" target="_blank" rel="noopener noreferrer" class="hover:text-blue-400">Tailwind CSS</a> und einer Prise <i class="fas fa-mug-hot text-sm mx-1" aria-hidden="true"></i>.
            </p>
            <p class="text-xs text-gray-500 mt-2">
                Viel Erfolg bei der Vorbereitung! 🇩🇪
            </p>
        </div>
    </footer>

    <script>
        const { createApp } = Vue

        createApp({
            data() {
                return {
                    // Tab system
                    activeTab: 'general', // 'general' or 'state'
                    
                    // Question data
                    generalQuestions: [],
                    stateQuestions: [],
                    
                    // Current indices for each tab
                    currentGeneralIndex: 0,
                    currentStateIndex: 0,
                    
                    // Answers for each tab
                    generalAnswers: {},
                    stateAnswers: {},
                    
                    // Show answers state for each tab
                    showGeneralAnswer: false,
                    showStateAnswer: false,
                    
                    // Jump inputs for each tab
                    jumpToGeneralQuestionNumber: null,
                    jumpToStateQuestionNumber: null,
                    
                    // Loading states
                    isLoadingGeneral: false,
                    isLoadingState: false,
                    
                    // Toast notification
                    showToast: false,
                    toastMessage: '',
                }
            },
            computed: {
                totalQuestions() {
                    return this.generalQuestions.length + this.stateQuestions.length;
                },
                currentGeneralQuestion() {
                    return this.generalQuestions[this.currentGeneralIndex] || null;
                },
                currentStateQuestion() {
                    return this.stateQuestions[this.currentStateIndex] || null;
                },
                generalProgressPercentage() {
                    const answeredCount = Object.keys(this.generalAnswers).length;
                    return this.generalQuestions.length > 0 ? Math.round((answeredCount / this.generalQuestions.length) * 100) : 0;
                },
                stateProgressPercentage() {
                    const answeredCount = Object.keys(this.stateAnswers).length;
                    return this.stateQuestions.length > 0 ? Math.round((answeredCount / this.stateQuestions.length) * 100) : 0;
                }
            },
            methods: {
                async fetchQuestions() {
                    try {
                        const response = await fetch('./ebt.json');
                        const data = await response.json();
                        
                        this.generalQuestions = data.general_questions || [];
                        this.stateQuestions = data.state_questions || [];
                        
                        this.loadProgress();
                    } catch (error) {
                        console.error("Error fetching questions:", error);
                    }
                },

                // Tab switching
                switchTab(tab) {
                    this.activeTab = tab;
                },

                // Toast notification
                showToastMessage(message) {
                    this.toastMessage = message;
                    this.showToast = true;
                    setTimeout(() => {
                        this.showToast = false;
                    }, 3000);
                },

                // General Questions Methods
                nextGeneralQuestion() {
                    if (this.currentGeneralIndex < this.generalQuestions.length - 1) {
                        this.currentGeneralIndex++;
                        this.showGeneralAnswer = this.generalAnswers[this.currentGeneralQuestion?.id] !== undefined;
                    }
                },
                
                prevGeneralQuestion() {
                    if (this.currentGeneralIndex > 0) {
                        this.currentGeneralIndex--;
                        this.showGeneralAnswer = this.generalAnswers[this.currentGeneralQuestion?.id] !== undefined;
                    }
                },
                
                jumpToGeneralQuestion(index) {
                    this.currentGeneralIndex = index;
                    this.showGeneralAnswer = this.generalAnswers[this.currentGeneralQuestion?.id] !== undefined;
                },
                
                jumpToGeneralQuestionByNumber() {
                    if (this.jumpToGeneralQuestionNumber && this.jumpToGeneralQuestionNumber >= 1 && this.jumpToGeneralQuestionNumber <= this.generalQuestions.length) {
                        const index = this.jumpToGeneralQuestionNumber - 1;
                        this.currentGeneralIndex = index;
                        this.showGeneralAnswer = this.generalAnswers[this.currentGeneralQuestion?.id] !== undefined;
                        this.jumpToGeneralQuestionNumber = null;
                    } else if (this.jumpToGeneralQuestionNumber) {
                        this.showToastMessage(`Frage ${this.jumpToGeneralQuestionNumber} existiert nicht. Bitte geben Sie eine Zahl zwischen 1 und ${this.generalQuestions.length} ein.`);
                        this.jumpToGeneralQuestionNumber = null;
                    }
                },
                
                selectGeneralAnswer(optionIndex) {
                    if (!this.currentGeneralQuestion || this.generalAnswers[this.currentGeneralQuestion.id] !== undefined) return;
                    
                    this.generalAnswers[this.currentGeneralQuestion.id] = optionIndex;
                    this.showGeneralAnswer = true;
                    this.saveProgress();
                },

                // State Questions Methods
                nextStateQuestion() {
                    if (this.currentStateIndex < this.stateQuestions.length - 1) {
                        this.currentStateIndex++;
                        this.showStateAnswer = this.stateAnswers[this.currentStateQuestion?.id] !== undefined;
                    }
                },
                
                prevStateQuestion() {
                    if (this.currentStateIndex > 0) {
                        this.currentStateIndex--;
                        this.showStateAnswer = this.stateAnswers[this.currentStateQuestion?.id] !== undefined;
                    }
                },
                
                jumpToStateQuestion(index) {
                    this.currentStateIndex = index;
                    this.showStateAnswer = this.stateAnswers[this.currentStateQuestion?.id] !== undefined;
                },
                
                jumpToStateQuestionByNumber() {
                    if (this.jumpToStateQuestionNumber && this.jumpToStateQuestionNumber >= 1 && this.jumpToStateQuestionNumber <= this.stateQuestions.length) {
                        const index = this.jumpToStateQuestionNumber - 1;
                        this.currentStateIndex = index;
                        this.showStateAnswer = this.stateAnswers[this.currentStateQuestion?.id] !== undefined;
                        this.jumpToStateQuestionNumber = null;
                    } else if (this.jumpToStateQuestionNumber) {
                        this.showToastMessage(`Frage ${this.jumpToStateQuestionNumber} existiert nicht. Bitte geben Sie eine Zahl zwischen 1 und ${this.stateQuestions.length} ein.`);
                        this.jumpToStateQuestionNumber = null;
                    }
                },
                
                selectStateAnswer(optionIndex) {
                    if (!this.currentStateQuestion || this.stateAnswers[this.currentStateQuestion.id] !== undefined) return;
                    
                    this.stateAnswers[this.currentStateQuestion.id] = optionIndex;
                    this.showStateAnswer = true;
                    this.saveProgress();
                },

                // General Questions Styling Methods
                getGeneralOptionClass(index) {
                    if (!this.showGeneralAnswer || !this.currentGeneralQuestion) return '';
                    
                    const correctAnswer = this.currentGeneralQuestion.answer;
                    const userAnswer = this.generalAnswers[this.currentGeneralQuestion.id];

                    if (index === correctAnswer) {
                        return 'bg-green-100 border-green-500';
                    }
                    if (index === userAnswer && userAnswer !== correctAnswer) {
                        return 'bg-red-100 border-red-500';
                    }
                    return 'border-gray-300';
                },
                
                getGeneralOptionIndicatorClass(index) {
                    if (!this.showGeneralAnswer || !this.currentGeneralQuestion) return 'border-gray-400';

                    const correctAnswer = this.currentGeneralQuestion.answer;
                    const userAnswer = this.generalAnswers[this.currentGeneralQuestion.id];

                    if (index === correctAnswer) {
                        return 'bg-green-500 border-green-500';
                    }
                    if (index === userAnswer && userAnswer !== correctAnswer) {
                        return 'bg-red-500 border-red-500';
                    }
                    return 'border-gray-400';
                },

                // State Questions Styling Methods
                getStateOptionClass(index) {
                    if (!this.showStateAnswer || !this.currentStateQuestion) return '';
                    
                    const correctAnswer = this.currentStateQuestion.answer;
                    const userAnswer = this.stateAnswers[this.currentStateQuestion.id];

                    if (index === correctAnswer) {
                        return 'bg-green-100 border-green-500';
                    }
                    if (index === userAnswer && userAnswer !== correctAnswer) {
                        return 'bg-red-100 border-red-500';
                    }
                    return 'border-gray-300';
                },
                
                getStateOptionIndicatorClass(index) {
                    if (!this.showStateAnswer || !this.currentStateQuestion) return 'border-gray-400';

                    const correctAnswer = this.currentStateQuestion.answer;
                    const userAnswer = this.stateAnswers[this.currentStateQuestion.id];

                    if (index === correctAnswer) {
                        return 'bg-green-500 border-green-500';
                    }
                    if (index === userAnswer && userAnswer !== correctAnswer) {
                        return 'bg-red-500 border-red-500';
                    }
                    return 'border-gray-400';
                },

                // Progress Management
                saveProgress() {
                    localStorage.setItem('quizProgressHessen', JSON.stringify({
                        activeTab: this.activeTab,
                        generalAnswers: this.generalAnswers,
                        stateAnswers: this.stateAnswers,
                        currentGeneralIndex: this.currentGeneralIndex,
                        currentStateIndex: this.currentStateIndex
                    }));
                },
                
                loadProgress() {
                    const savedProgress = localStorage.getItem('quizProgressHessen');
                    if (savedProgress) {
                        const data = JSON.parse(savedProgress);
                        this.activeTab = data.activeTab || 'general';
                        this.generalAnswers = data.generalAnswers || {};
                        this.stateAnswers = data.stateAnswers || {};
                        this.currentGeneralIndex = data.currentGeneralIndex || 0;
                        this.currentStateIndex = data.currentStateIndex || 0;
                        
                        // Set show answer states based on saved data
                        this.showGeneralAnswer = this.generalAnswers[this.currentGeneralQuestion?.id] !== undefined;
                        this.showStateAnswer = this.stateAnswers[this.currentStateQuestion?.id] !== undefined;
                    }
                }
            },
            mounted() {
                this.fetchQuestions();
            }
        }).mount('#app')
    </script>

    <script>
        // Set current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>

</body>
</html>